version: '{build}'
image: Visual Studio 2019
configuration: Debug
before_build:
  - mkdir build
  - cd build
  - cmake .. -DDBG_MACRO_BUILD_TESTS=ON -DDBG_MACRO_BUILD_EXAMPLES=ON
build_script:
  - cmake --build .
test_script:
  - ctest --output-on-failure -C %CONFIGURATION%
after_test:
  - .\examples\%CONFIGURATION%\example_factorial.exe
  - .\examples\%CONFIGURATION%\example_temperature.exe
