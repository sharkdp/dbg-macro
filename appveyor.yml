version: '{build}'
image: Visual Studio 2019
build_script:
- pwsh: >-
    mkdir build

    cd build

    cmake .. -DDBG_MACRO_BUILD_TESTS=ON -DDBG_MACRO_BUILD_EXAMPLES=ON

    msbuild dbg_macro.sln

    ctest --output-on-failure -C Debug

    .\examples\Debug\example_factorial.exe

    .\examples\Debug\example_temperature.exe
